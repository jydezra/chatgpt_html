(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pay-vip"],{"130e":function(t,a,i){"use strict";i.d(a,"b",(function(){return e})),i.d(a,"c",(function(){return n})),i.d(a,"a",(function(){}));var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"wrap"},[i("v-uni-view",{staticClass:"wallet"},[t.vip_expire_time?i("v-uni-view",{staticStyle:{"font-size":"32rpx","font-weight":"bold"}},[i("v-uni-view",{staticClass:"balance"},[t._v("已开通VIP会员")]),i("v-uni-view",{staticClass:"vip"},[t._v(t._s(t.vip_expire_time)+" 到期")])],1):i("v-uni-view",{staticClass:"balance"},[t._v("VIP会员享无限次数")])],1),[t.vipList&&t.vipList.length>0?i("v-uni-view",{staticClass:"box",staticStyle:{"padding-right":"0"}},[i("v-uni-view",{staticClass:"box-title"},[i("v-uni-text",[t._v("开通VIP会员")]),i("v-uni-text",{staticClass:"desc"},[t._v("会员不消耗次数，无限使用")])],1),i("v-uni-view",{staticClass:"goods-list"},[t._l(t.vipList,(function(a,e){return i("v-uni-view",{key:e,class:"goods "+(a.id==t.vip_id?"active":""),attrs:{"data-id":a.id},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.chooseVip.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticClass:"num"},[t._v(t._s(a.num))]),i("v-uni-text",{staticClass:"unit"},[t._v("个月")])],1),i("v-uni-view",{staticClass:"price"},[t._v("特价"),i("v-uni-text",[t._v(t._s(a.price/100))]),t._v("元")],1),a.market_price>0?i("v-uni-view",{staticClass:"market_price"},[t._v("原价"+t._s(a.market_price/100)+"元")]):t._e()],1)})),i("v-uni-view",{staticStyle:{clear:"both"}})],2),i("v-uni-button",{staticClass:"btn-pay",attrs:{disabled:!t.vip_id||t.paying},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.doPayVip.apply(void 0,arguments)}}},[t._v("立即开通会员")])],1):t._e()]],2)},n=[]},2983:function(t,a,i){"use strict";i.r(a);var e=i("130e"),n=i("3b7a");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(a,t,(function(){return n[t]}))}(o);i("b383");var d=i("f0c5"),s=Object(d["a"])(n["default"],e["b"],e["c"],!1,null,"379d23f4",null,!1,e["a"],void 0);a["default"]=s.exports},"3b7a":function(t,a,i){"use strict";i.r(a);var e=i("45dc"),n=i.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){i.d(a,t,(function(){return e[t]}))}(o);a["default"]=n.a},"45dc":function(t,a,i){"use strict";i("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,i("d3b7"),i("159b");var e=getApp(),n={data:function(){return{pageIsLoad:!1,is_ios_pay:0,system:"",vip_expire_time:"",vipList:[],vip_id:0,paying:!1,balance:""}},onLoad:function(t){var a=this;this.setData({system:e.globalData.system}),e.globalData.util.checkLogin().then((function(){a.getVipList(),a.setData({pageIsLoad:!0})}))},onShow:function(){this.pageIsLoad&&this.getBalance()},methods:{getVipList:function(){var t=this;e.globalData.util.request({url:"/order/getVipList"}).then((function(a){var i=a.data;i.forEach((function(a){a.is_default&&t.setData({vip_id:a.id})})),t.setData({vipList:i})}))},getBalance:function(){var t=this;e.globalData.util.request({url:"/h5/getBalance",loading:!1}).then((function(a){t.setData({balance:a.data.balance,vip_expire_time:a.data.vip_expire_time})}))},chooseVip:function(t){var a=t.currentTarget.dataset.id;this.setData({vip_id:a})},doPayVip:function(){var t=this;if(this.paying)return!1;var a=this.vip_id;if(0==a)return e.globalData.util.message("请选择VIP套餐"),!1;this.setData({paying:!0}),setTimeout((function(){t.setData({paying:!1},2e3)})),e.globalData.util.request({url:"/h5/createOrder",data:{vip_id:a}}).then((function(t){e.globalData.jssdk.chooseWXPay({timestamp:t.data.timeStamp,nonceStr:t.data.nonceStr,package:t.data.package,signType:t.data.signType,paySign:t.data.paySign,success:function(t){e.globalData.util.message("支付成功","error",(function(){uni.redirectTo({url:"/pages/user/index"})}))},fail:function(t){e.globalData.util.message("发起支付失败","error")}})}))}}};a.default=n},"7fbd":function(t,a,i){var e=i("24fb");a=e(!1),a.push([t.i,"uni-page-body[data-v-379d23f4]{margin:0;padding:0;background-color:#ededed;font-family:微软雅黑;padding-bottom:%?30?%}body.?%PAGE?%[data-v-379d23f4]{background-color:#ededed}.mod-title[data-v-379d23f4]{padding:%?30?% %?30?%;font-size:%?32?%}.mod-title uni-text[data-v-379d23f4]{padding-left:%?16?%;border-left:%?8?% solid #04babe;line-height:%?24?%;height:%?30?%}.wallet[data-v-379d23f4]{height:%?140?%;background:#04babe;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff;padding-bottom:%?100?%;margin-bottom:%?-80?%;text-align:center}.wallet .balance[data-v-379d23f4]{font-size:%?36?%;text-align:center;font-weight:400;letter-spacing:%?2?%}.wallet .vip[data-v-379d23f4]{color:#fff;font-size:%?24?%;font-weight:400;margin-top:%?10?%}.goods-list[data-v-379d23f4]{padding:0 0 %?20?% 0}.goods[data-v-379d23f4]{background:#f3f6f9;width:%?196?%;height:%?206?%;border-radius:%?20?%;text-align:center;padding:%?20?% 0;float:left;margin-right:%?20?%;box-sizing:border-box;border:%?6?% solid #f3f6f9;margin-top:%?30?%}.goods .title[data-v-379d23f4]{font-size:%?48?%;display:flex;align-items:baseline;justify-content:center;font-weight:700}.goods .title .unit[data-v-379d23f4]{font-size:%?28?%;margin-left:%?20?%;font-weight:400}.goods .price[data-v-379d23f4]{font-size:%?28?%;margin:%?10?% 0;color:#444}.goods .price uni-text[data-v-379d23f4]{color:red;margin:0 %?6?%}.goods .market_price[data-v-379d23f4]{color:#999;text-decoration:line-through;font-size:%?24?%}.goods.active[data-v-379d23f4]{border-color:#04babe}.btn-pay[data-v-379d23f4]{width:%?400?%;height:%?80?%;padding:%?10?%;background-color:#04babe;border-radius:%?100?%;color:#fff;font-size:%?30?%;border:none;outline:none;margin:%?30?% 0 %?30?% %?110?%;box-sizing:border-box;display:flex;justify-content:center;align-items:center;letter-spacing:%?2?%}.btn-pay[data-v-379d23f4]::after{display:none}.btn-pay[data-v-379d23f4]:active{-webkit-transform:scale(.9);transform:scale(.9)}.box[data-v-379d23f4]{width:%?690?%;background:#fff;margin:0 %?30?% %?30?% %?30?%;border-radius:%?20?%;overflow:hidden;padding:%?20?% %?30?%;box-sizing:border-box}.box .box-title[data-v-379d23f4]{width:100%;height:%?72?%;line-height:%?72?%;font-size:%?32?%;color:#333;font-weight:700}.box .box-title .desc[data-v-379d23f4]{font-weight:400;color:#999;font-size:%?28?%;margin-left:%?20?%}.task-list[data-v-379d23f4]{padding-top:%?20?%}.task-list .task-item[data-v-379d23f4]{width:100%;margin-top:%?30?%;display:flex;justify-content:space-between;align-items:flex-start;border-bottom:%?2?% solid #f3f6f9;padding-bottom:%?30?%}.task-list .task-item[data-v-379d23f4]:last-child{border-bottom:0}.task-item .task-icon[data-v-379d23f4]{width:%?100?%;height:%?100?%;border-radius:%?10?%;overflow:hidden;background-color:#f3f6f9}.task-item .task-icon uni-image[data-v-379d23f4]{width:100%;height:100%}.task-item .task-info[data-v-379d23f4]{margin:0 %?20?%;width:%?380?%}.task-item .task-name[data-v-379d23f4]{font-size:%?32?%;color:#333;line-height:%?48?%;font-weight:700;letter-spacing:%?2?%}.task-item .task-desc[data-v-379d23f4]{font-size:%?28?%;color:#999;line-height:%?44?%;margin:%?6?% 0 %?20?% 0}.task-item .task-desc uni-text[data-v-379d23f4]{color:red;margin:0 %?6?%}.task-item .task-status[data-v-379d23f4]{font-size:%?24?%;color:#04babe}.task-item .task-op[data-v-379d23f4]{width:%?110?%}.task-item .task-btn[data-v-379d23f4]{border:none;font-size:%?22?%;padding:0;background:#04babe;color:#fff;border-radius:%?40?%;height:%?48?%;line-height:%?48?%}.task-item .task-btn[data-v-379d23f4]::after{display:none}.task-item .task-btn[data-v-379d23f4]:active{-webkit-transform:scale(.9);transform:scale(.9)}.task-item .task-btn.disabled[data-v-379d23f4]{background:#999}",""]),t.exports=a},b383:function(t,a,i){"use strict";var e=i("cf68"),n=i.n(e);n.a},cf68:function(t,a,i){var e=i("7fbd");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=i("4f06").default;n("85397434",e,!0,{sourceMap:!1,shadowMode:!1})}}]);