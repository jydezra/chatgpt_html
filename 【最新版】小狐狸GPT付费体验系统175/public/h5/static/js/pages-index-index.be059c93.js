(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0378":function(t,e,a){"use strict";var i=a("1f45"),n=a.n(i);n.a},"1f45":function(t,e,a){var i=a("4717");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("e9c346be",i,!0,{sourceMap:!1,shadowMode:!1})},"2a6b":function(t,e,a){"use strict";a.r(e);var i=a("8c54"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"2c39":function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("c7eb")),s=i(a("1da1"));a("ac1f"),a("841c"),a("c975"),a("e25e"),a("5319"),a("498a"),a("14d9"),a("d3b7"),a("e9c4"),a("8a79");var o=i(a("44fb")),r=i(a("fd1e"));a("fd1e8"),a("279a"),a("a7eb"),a("40d3");var d=getApp(),c={components:{TextComponent:o.default,Welcome:r.default},data:function(){return{pageIsLoad:!1,siteroot:"",group_id:0,lists:[],message:"",writingText:"",writing:!1,page:1,pagesize:10,scrollTop:0,page_title:""}},onLoad:function(t){this.onLoadClone(t),setTimeout((function(){uni.setNavigationBarTitle({title:d.globalData.page_title})}),300)},onShow:function(){uni.setNavigationBarTitle({title:d.globalData.page_title})},methods:{onLoadClone:function(t){var e=this,a=0,i=window.location.search;i&&-1!=i.indexOf("tuid=")&&(i=i.split("tuid=")[1],a=parseInt(i),a&&uni.setStorageSync("tuid",a)),this.setData({system:d.globalData.system,siteroot:d.globalData.siteroot.replace("/web.php",""),page_title:d.globalData.page_title}),d.globalData.util.checkLogin().then((function(){e.getHistoryMsg(),setTimeout((function(){e.setData({pageIsLoad:!0})}),500)}))},sendText:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){var a,i,s,o,r,c,l,u,g,f,p,v,m,b;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.writing){e.next=2;break}return e.abrupt("return");case 2:if(a=t.trim(t.message),a){e.next=7;break}return d.globalData.util.message("请输入你的问题"),t.message="",e.abrupt("return");case 7:return t.lists.push({user:"我",message:a}),t.message="",t.writing=!0,t.scrollToBottom(),i=new Headers,i.append("Content-Type","application/json"),i.append("X-site",uni.getStorageSync("sitecode")),s=t.siteroot+"/web.php/chat/sendText",o={message:a},e.next=18,fetch(s,{method:"POST",headers:i,body:JSON.stringify(o)});case 18:if(r=e.sent,r.ok){e.next=23;break}return t.writing=!1,d.globalData.util.message(r.statusText),e.abrupt("return");case 23:c=r.body.getReader(),l=new TextDecoder("utf-8"),u=!1,g="";case 27:if(u){e.next=48;break}return t.scrollToBottom(),e.next=31,c.read();case 31:if(f=e.sent,p=f.value,v=f.done,!p){e.next=45;break}if(m=l.decode(p),"\n"!==m||!g.endsWith("\n")){e.next=38;break}return e.abrupt("continue",27);case 38:if(!m){e.next=45;break}if(-1===m.indexOf("[error]")){e.next=43;break}if(b=function(){t.writing=!1,t.writingText="",t.lists.pop();var e=m.replace("[error]","");return-1!==e.indexOf("请登录")?(t.$emit("showlogin"),setTimeout((function(){d.globalData.util.message(e)}),500)):-1!==e.indexOf("请充值")?(t.$emit("showUserInfo"),setTimeout((function(){d.globalData.util.message(e)}),500)):d.globalData.util.message(e,"error"),"break"}(),"break"!==b){e.next=43;break}return e.abrupt("break",48);case 43:t.writing=!0,t.writingText+=m;case 45:u=v,e.next=27;break;case 48:t.writingText&&t.lists.push({user:"AI",message:t.writingText}),t.writing=!1,t.writingText="",t.scrollToBottom();case 52:case"end":return e.stop()}}),e)})))()},sendConfirm:function(){var t=this;setTimeout((function(){t.sendText()}),50)},getHistoryMsg:function(){var t=this;d.globalData.util.request({url:"/chat/getHistoryMsg"}).then((function(e){e.data.list.length>0&&t.setData({lists:e.data.list}),setTimeout((function(){t.scrollToBottom()}),300)}))},scrollToBottom:function(){var t=this;setTimeout((function(){var e=uni.createSelectorQuery().in(t);e.select(".list").boundingClientRect((function(e){e&&t.setData({scrollTop:parseInt(e.height)})})),e.exec((function(t){}))}),100)},quickMessage:function(t){this.message=t},toPay:function(){uni.navigateTo({url:"/pages/pay/pay"})},getWxappInfo:function(){var t=this;return new Promise((function(e,a){d.globalData.util.request({url:"/wxapp/getWxappInfo",loading:!1}).then((function(a){var i=a.data.page_title;i&&uni.setNavigationBarTitle({title:i}),"chat"==a.data.index_type&&a.data.outtype&&"stream"==a.data.outtype&&(t.setData({outtype:a.data.outtype}),t.socketConnect());var n=a.data.welcome;if(n){var s=t.lists;0==s.length&&(s.push({user:"AI",message:[n]}),t.setData({lists:s}))}t.setData({shareTitle:a.data.share_title,shareImage:a.data.share_image,is_check:a.data.is_check,index_type:a.data.index_type,content:a.data.content?JSON.parse(a.data.content):""}),e()}))}))},copyText:function(t){var e=document.createElement("textarea");e.value=t,e.readOnly="readOnly",e.style="width:0;height:0;",document.body.appendChild(e),e.select(),e.setSelectionRange(0,t.length),d.globalData.util.message("已复制"),document.execCommand("copy"),e.remove()},trim:function(t){return t.replace(/(^\s*)|(\s*$)/g,"")}}};e.default=c},"354f":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticStyle:{height:"100%"}},[t.pageIsLoad?a("v-uni-view",{staticClass:"page"},[a("v-uni-scroll-view",{staticClass:"box-msg-list",attrs:{"scroll-x":!1,"scroll-y":!0,"scroll-with-animation":!1,"scroll-top":t.scrollTop}},[t.lists&&t.lists.length>0?a("v-uni-view",{staticClass:"list"},[t._l(t.lists,(function(e,i){return["AI"==e.user?a("v-uni-view",{key:i+"_0",staticClass:"message",staticStyle:{background:"#f7f7f8"},attrs:{"data-index":i},on:{longpress:function(a){arguments[0]=a=t.$handleEvent(a),t.copyText(e.message)}}},[a("v-uni-view",{staticClass:"avatar"},[a("img",{attrs:{src:"/static/img/ic_ai.png"}})]),a("v-uni-view",{staticClass:"text markdown-body"},[a("textComponent",{attrs:{text:e.message}}),a("v-uni-view",{staticStyle:{display:"block"}},[a("span",{staticClass:"btn-copy",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.copyText(e.message)}}},[t._v("复制内容")])])],1)],1):a("v-uni-view",{staticClass:"message",staticStyle:{background:"#fff"},attrs:{"data-index":i},on:{longpress:function(a){arguments[0]=a=t.$handleEvent(a),t.copyText(e.message)}}},[a("v-uni-view",{staticClass:"avatar",staticStyle:{background:"#9aa37e"}},[a("img",{attrs:{src:"/static/img/ic_user.png"}})]),a("v-uni-view",{staticClass:"text markdown-body"},[a("textComponent",{attrs:{text:e.message}})],1)],1)]})),t.writing?a("v-uni-view",{staticClass:"message",staticStyle:{background:"#f7f7f8"}},[a("v-uni-view",{staticClass:"avatar"},[a("img",{attrs:{src:"/static/img/ic_ai.png"}})]),a("v-uni-view",{staticClass:"text markdown-body"},[a("textComponent",{attrs:{text:t.writingText}}),a("v-uni-text",{staticClass:"cursor"})],1)],1):t._e()],2):a("welcome",{attrs:{"page-title":t.page_title},on:{use:function(e){arguments[0]=e=t.$handleEvent(e),t.quickMessage.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"box-input"},[a("v-uni-view",{staticClass:"input"},[a("v-uni-textarea",{attrs:{type:"text","confirm-type":"send","auto-height":!0,placeholder:"输入你的问题",maxlength:"3000","cursor-spacing":"0"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.sendConfirm.apply(void 0,arguments)}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),a("v-uni-button",{staticClass:"btn-send",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendText.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{mode:"widthFix",src:"/static/images/ic_send.png"}})],1)],1)],1)],1):t._e()],1)},n=[]},4717:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.welcome[data-v-617b7de1]{width:768px;max-width:100%;height:400px;margin:0 auto;margin-top:80px}.welcome .title[data-v-617b7de1]{font-size:40px;color:#333;text-align:center;line-height:48px;margin:30px 0;font-weight:700;letter-spacing:2px}.welcome .tips-list[data-v-617b7de1]{display:flex;justify-content:space-around;padding:10px}.welcome .tips-list .column[data-v-617b7de1]{width:33%;padding:0 10px;text-align:center}.welcome .tips-list .column ul[data-v-617b7de1], .welcome .tips-list .column li[data-v-617b7de1]{list-style:none;margin:0;padding:0}.welcome .tips-list .column .h-item[data-v-617b7de1]{margin-bottom:20px}.welcome .tips-list .column .h-item uni-image[data-v-617b7de1]{width:24px;height:24px}.welcome .tips-list .column .h-item .tit[data-v-617b7de1]{font-size:16px;line-height:44px}.welcome .tips-list .column li[data-v-617b7de1]{background:#f7f7f8;border-radius:4px;margin-bottom:15px;padding:12px 15px;font-size:13px;color:#444;line-height:18px;cursor:default}.welcome .tips-list .column li[data-v-617b7de1]:active{background:#e5e7eb;color:#222}',""]),t.exports=e},8798:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-6e6482d2]{background:#f3f6f9}body.?%PAGE?%[data-v-6e6482d2]{background:#f3f6f9}.box-input[data-v-6e6482d2]{width:100%;padding:%?40?% 0;left:0;bottom:0;border-top:1px solid #d8d8e2;background:#f6f9fc}.box-input .input[data-v-6e6482d2]{width:%?690?%;margin:0 %?30?%;position:relative;box-sizing:border-box;box-shadow:0 0 %?12?% rgba(0,0,0,.1);background:#fefefe}.box-input .input uni-textarea[data-v-6e6482d2]{width:%?580?%;padding:%?20?% %?10?% %?20?% %?20?%;border-radius:%?10?%;line-height:%?40?%}.box-input .input .btn-send[data-v-6e6482d2]{position:absolute;right:0;bottom:0;width:%?100?%;height:%?80?%;padding:0;border:none;border-radius:%?10?%;background:none;display:flex;align-items:center;justify-content:center;z-index:9}.box-input .input .btn-send[data-v-6e6482d2]::after{display:none}.box-input .input .btn-send[data-v-6e6482d2]:active{background:#f2f2f2}.box-input .input .btn-send uni-image[data-v-6e6482d2]{width:%?40?%}.empty[data-v-6e6482d2]{text-align:center;margin:0 %?60?%;padding:%?80?% 0 %?100?% 0;margin-top:%?200?%;background:#fff;border-radius:%?20?%}.empty uni-image[data-v-6e6482d2]{width:%?404?%;height:%?266?%;margin-bottom:%?40?%}.empty .tip[data-v-6e6482d2]{width:100%;line-height:%?40?%;font-size:%?32?%;letter-spacing:%?2?%;color:#444}.btn-finish[data-v-6e6482d2]{width:60%;height:%?80?%;line-height:%?80?%;border-radius:%?48?%;border:none;color:#fff;margin:%?240?% auto 0 20%;box-shadow:0 0 %?20?% rgba(0,235,79,.1);font-size:%?30?%;letter-spacing:%?4?%;outline:none;background:#39b54a;text-align:center}.page[data-v-6e6482d2]{width:100%;overflow:hidden;display:flex;flex-direction:column;position:absolute;left:0;right:0;top:0;bottom:0;background:#fff}.box-msg-list[data-v-6e6482d2]{width:100%;height:100%;top:0;bottom:%?132?%;left:0;box-sizing:border-box;overflow:hidden}.list[data-v-6e6482d2]{width:100%;height:auto}.message[data-v-6e6482d2]{display:flex;justify-content:flex-start;padding:%?40?% %?40?%;border-bottom:%?2?% solid #eee}.message[data-v-6e6482d2]:last-child{border-bottom:0}.message .text[data-v-6e6482d2]{width:100%;color:#343541;line-height:%?52?%;font-size:%?32?%;word-break:break-all;padding:%?4?% 0;overflow:hidden}.message .text span[data-v-6e6482d2]{display:inline}.message .avatar[data-v-6e6482d2]{width:%?48?%;height:%?48?%;background:#10a37f;margin-right:%?30?%;color:#fff;font-size:%?28?%;border-radius:%?4?%;display:flex;align-items:center;justify-content:center;margin-top:%?6?%}.message .avatar uni-image[data-v-6e6482d2],\r\n.message .avatar img[data-v-6e6482d2]{width:%?36?%;height:%?36?%}.account[data-v-6e6482d2]{margin:%?20?% %?30?%;padding:%?16?% %?24?% %?16?% %?24?%;box-sizing:border-box;\r\n    /* background: #f3f6f9; */border-radius:%?10?%;display:flex;justify-content:space-between;align-items:center}.account .balance[data-v-6e6482d2]{color:#666;font-size:%?24?%}.account .balance uni-text[data-v-6e6482d2]{color:#10a37f;margin-right:%?6?%}.account .btn-pay[data-v-6e6482d2]{display:inline-block;color:#10a37f;margin-left:%?20?%;font-size:%?24?%}.banner-ad[data-v-6e6482d2]{width:100%;height:%?120?%;border-top:%?2?% solid #ddd}.cursor[data-v-6e6482d2]{background:#3d3d3d;width:100%;line-height:100%;border-left:.1em solid transparent;-webkit-animation:cursor-data-v-6e6482d2 .6s infinite;animation:cursor-data-v-6e6482d2 .6s infinite;display:inline-block;width:%?10?%;height:%?40?%;position:relative;top:%?6?%}\r\n/* Animation */@-webkit-keyframes cursor-data-v-6e6482d2{50%{background:#fff}}@keyframes cursor-data-v-6e6482d2{50%{background:#fff}}.content[data-v-6e6482d2]{padding:%?20?%}.content uni-view[data-v-6e6482d2]{margin:%?10?% 0;word-break:break-all;line-height:1.5;font-size:%?28?%;color:#444}.content uni-image[data-v-6e6482d2]{width:100%}.btn-copy[data-v-6e6482d2]{color:#409eff}",""]),t.exports=e},"8c54":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac1f"),a("5319");var i={props:{pageTitle:{type:String,default:""}},computed:{message:function(){var t=this.text.replace(/(^\s*)|(\s*$)/g,"");return mdi.render(t)}},methods:{quickMessage:function(t){this.$emit("use",t)}}};e.default=i},cc21:function(t,e,a){var i=a("8798");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("401f29ba",i,!0,{sourceMap:!1,shadowMode:!1})},d412:function(t,e,a){"use strict";a.r(e);var i=a("354f"),n=a("fb67");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("eb1e");var o=a("f0c5"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"6e6482d2",null,!1,i["a"],void 0);e["default"]=r.exports},eb1e:function(t,e,a){"use strict";var i=a("cc21"),n=a.n(i);n.a},fb67:function(t,e,a){"use strict";a.r(e);var i=a("2c39"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},fc6b:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"welcome"},[a("div",{staticClass:"tips-list"},[a("div",{staticClass:"column"},[a("div",{staticClass:"h-item"},[a("v-uni-image",{attrs:{src:"/static/images/welcome/ic_write.png"}}),a("div",{staticClass:"tit"},[t._v("AI 创作")])],1),a("ul",[a("li",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.quickMessage("写一首赞美祖国的诗")}}},[t._v("写一首赞美祖国的诗 →")]),a("li",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.quickMessage("写一篇科幻小说")}}},[t._v("写一篇科幻小说 →")]),a("li",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.quickMessage("安排一场发布会流程")}}},[t._v("安排一场发布会流程 →")])])]),a("div",{staticClass:"column"},[a("div",{staticClass:"h-item"},[a("v-uni-image",{attrs:{src:"/static/images/welcome/ic_question.png"}}),a("div",{staticClass:"tit"},[t._v("有趣的提问")])],1),a("ul",[a("li",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.quickMessage("有哪些有趣的科学实验")}}},[t._v("有哪些有趣的科学实验 →")]),a("li",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.quickMessage("问一个AI也答不出的问题")}}},[t._v("问一个AI也答不出的问题 →")]),a("li",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.quickMessage("AI会替代人类工作吗")}}},[t._v("AI会替代人类工作吗 →")])])]),a("div",{staticClass:"column"},[a("div",{staticClass:"h-item"},[a("v-uni-image",{attrs:{src:"/static/images/welcome/ic_baike.png"}}),a("div",{staticClass:"tit"},[t._v("AI 百科")])],1),a("ul",[a("li",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.quickMessage("用简单的术语来解释人工智能")}}},[t._v("简单解释一下人工智能 →")]),a("li",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.quickMessage("红烧牛肉的做法")}}},[t._v("红烧牛肉的做法 →")]),a("li",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.quickMessage("请介绍一下百度文心")}}},[t._v("请介绍一下百度文心 →")])])])])])},n=[]},fd1e:function(t,e,a){"use strict";a.r(e);var i=a("fc6b"),n=a("2a6b");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("0378");var o=a("f0c5"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"617b7de1",null,!1,i["a"],void 0);e["default"]=r.exports}}]);